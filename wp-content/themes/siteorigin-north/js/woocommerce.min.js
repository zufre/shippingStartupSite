jQuery(function(e){e(".woocommerce-ordering select").each(function(){var t=e(this);if(e("body").hasClass("rtl"))var n=e("<div></div>").html('<span class="current">'+t.find(":selected").html()+'</span><span class="north-icon-previous"></span>').addClass("ordering-selector-wrapper").insertAfter(t);else var n=e("<div></div>").html('<span class="current">'+t.find(":selected").html()+'</span><span class="north-icon-next"></span>').addClass("ordering-selector-wrapper").insertAfter(t);var o=e("<div/>").addClass("ordering-dropdown-container").appendTo(n),i=e("<ul></ul>").addClass("ordering-dropdown").appendTo(o),r=0;t.find("option").each(function(){var o=e(this);i.append(e("<li></li>").html(o.html()).data("val",o.attr("value")).click(function(){t.val(e(this).data("val")),t.closest("form").submit()})),r=Math.max(n.find(".current").html(o.html()).width(),r)}),n.find(".current").html(t.find(":selected").html()).width(r),t.hide()}),e(".ordering-selector-wrapper").click(function(){e(this).toggleClass("open-dropdown")}),e(window).click(function(t){e(t.target).closest(".ordering-selector-wrapper.open-dropdown").length||e(".ordering-selector-wrapper.open-dropdown").removeClass("open-dropdown")}),e(".product-quick-view-button").click(function(t){t.preventDefault();var n="#quick-view-container",o="#product-quick-view",i=e(this).attr("data-product-id");e.post(so_ajax.ajaxurl,{action:"so_product_quick_view",product_id:i},function(t){e(document).find(n).find(o).html(t)}),e(document).find(n).is(":hidden")&&e(document).find(n).find(o).empty(),e(document).find(n).fadeIn(300),e(window).mouseup(function(t){var i=e(o);(!i.is(t.target)&&0===i.has(t.target).length||e(".quickview-close-icon").is(t.target))&&e(n).fadeOut(300)}),e(document).keyup(function(t){e(o);27==t.keyCode&&e(n).fadeOut(300)})})});